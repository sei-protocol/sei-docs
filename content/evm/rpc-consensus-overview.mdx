---
title: 'Consensus Deep Dive'
description: 'Operator-oriented reference for Sei consensus, mempool, and vote extension status.'
keywords: ['consensus', 'mempool', 'vote extensions', 'sei tendermint']
---

import { Callout } from 'nextra/components';
import { KeyValueTable, TroubleshootingTable } from '../../mdx-components';

# Consensus Deep Dive

Sei uses a Tendermint-based consensus engine tuned for high-throughput EVM workloads. This guide summarises the latest behavioural changes so validator operators and infrastructure teams can keep nodes healthy.

<Callout type="info">Covers `sei-tendermint@02c9462f1` (duplicate transaction cache sizing) and the current vote-extension posture.</Callout>

## Key Concepts

<KeyValueTable
  rows={[
    ['Consensus Algorithm', 'Tendermint BFT with instant finality and 2/3 voting power requirement.'],
    ['Block Time Target', '~1s.'],
    ['Mempool Mode', 'Parallel check with duplicate transaction cache (LRU) sized via `mempool.cache_size`.'],
    ['Vote Extensions', 'Disabled on mainnet. Enabling is irreversible (see below).']
  ]}
/>

<Callout type="info">`sei-tendermint@02c9462f1` corrected duplicate transaction cache accounting, and the public networks continue to run with vote extensions disabled.</Callout>

## Duplicate Transaction Cache

<KeyValueTable
  rows={[
    ['Patch reference', '`sei-tendermint@02c9462f1` enforces the configured cache ceiling and clears entries on inclusion/removal.'],
    ['`mempool.cache_size` baseline', 'Default `10000`. Scale to `20000` for high-throughput validators but monitor RSS to avoid memory pressure.'],
    ['Cache behaviour', 'Entries now evict predictably; large keys no longer overflow. RPC eviction mirrors block inclusion.'],
    ['Monitoring', 'Track `mempool_cache_size` and alert when utilisation > 90% for > 2 minutes.']
  ]}
/>

## Vote Extensions

<KeyValueTable
  rows={[
    ['Network status', 'Disabled on Sei mainnet/testnet. No vote payloads expected.'],
    ['Irreversibility', '`types/params.go` enforces "vote extensions cannot be disabled once enabled". Treat the flag as one-way.'],
    ['Operator guidance', 'Do not toggle experimental configs without explicit release instructions; enabling requires coordinated rollout and client changes.']
  ]}
/>

## Operational Best Practices

<CardGrid
  items={[
    {
      title: 'Recheck discipline',
      description: 'Leave `mempool.recheck` = false in production. Toggle briefly only after app upgrades to purge invalid txs.',
      href: '/node/technical-reference#consensus'
    },
    {
      title: 'Metric coverage',
      description: 'Alert on `consensus_height` stalls and `mempool_cache_size` plateaus; pair with duplicate-tx warnings in logs.',
      href: '/node/troubleshooting'
    },
    {
      title: 'Recovery playbook',
      description: 'Use snapshots/state sync first. `seid unsafe-reset-all` should be last resort with refreshed peer sets.',
      href: '/node/node-incident-playbooks'
    }
  ]}
/>

## Troubleshooting

<TroubleshootingTable
  rows={[
    ['Duplicate tx errors after upgrade', 'Cache size too small for current traffic.', 'Increase `mempool.cache_size` in `config.toml` and restart the node.'],
    ['Unexpected vote extension logs', 'Experimental configuration toggled vote extensions.', 'Revert the change; once enabled the protocol expects extension payloads from validators.'],
    ['Consensus halt around upgrade height', 'Nodes running mixed binaries or stale state.', 'Ensure all validators run the same release and execute a coordinated upgrade with state sync ready.']
  ]}
/>

## Related Material

<CardGrid
  items={[
    {
      title: 'Technical Reference',
      description: 'Full node configuration matrix including `config.toml` consensus knobs.',
      href: '/node/technical-reference'
    },
    {
      title: 'Incident Playbooks',
      description: 'Response drills for consensus halts, snapshot issues, and P2P partitions.',
      href: '/node/node-incident-playbooks'
    },
    {
      title: 'RPC Gas Accounting',
      description: 'How block-level gas totals interact with consensus updates post-`v6.1.11`.',
      href: '/evm/rpc-gas-accounting'
    },
    {
      title: 'Twin Turbo Consensus',
      description: 'Protocol-level explainer of Seiâ€™s pipelined Tendermint flow for sub-second finality.',
      href: '/learn/twin-turbo-consensus'
    }
  ]}
/>

<Callout type="info">
  Looking for the protocol architecture view? Read <a href="/learn/twin-turbo-consensus">Twin Turbo Consensus</a>. That explainer now links back here for operator-specific configuration notes.
</Callout>
