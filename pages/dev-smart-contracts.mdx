import { Blockquote, List, Paper, Text, Title } from '@mantine/core';
import { IconInfoCircle } from '@tabler/icons-react';

# Smart Contracts

Smart contracts are self-executing contracts with their own state. On Sei, developers have the flexibility to use both the EVM (Ethereum Virtual Machine) and CosmWasm for smart contract development, allowing for a broad range of decentralized applications (dApps) and interoperability between the two ecosystems.

<Blockquote color='red' mt='xl'>
	Sei uses optimistic parallelization to increase throughput and efficiency of both EVM and CosmWasm VM environments. This approach significantly increases the
	number of TPS without requiring developers to additional define dependencies in their smart contracts.
</Blockquote>

## Choosing a VM

When developing smart contracts on Sei, developers have the option to choose between using the EVM and CosmWasm. Each approach has its own benefits and trade-offs, and the best choice depends on the specific requirements and context of the project. Here, we will compare EVM and CosmWasm to help you make an informed decision.

### EVM

The EVM is a decentralized computation engine that allows the execution of smart contracts on Ethereum and EVM-compatible blockchains. EVM contracts are typically written in Solidity, a language designed for Ethereum.

<Paper shadow="lg" p="lg" mt="xl" withBorder bg="transparent" radius="md">
  <Title order={4}>Benefits</Title>
  <List listStyleType='disc' mt='sm'>
    <List.Item>
      **Compatibility**: EVM is by far the most widely supported and allows for the use of existing Ethereum tools, libraries, and wallets (such as MetaMask). This
      makes it seamless to port existing Ethereum dApps to the Sei blockchain.
    </List.Item>
    <List.Item>**Developer Ecosystem**: The large Ethereum developer community means extensive resources, tutorials, and libraries are available.</List.Item>
  </List>

{' '}

<Title order={4} mt='xl'>
	Considerations
</Title>
<List listStyleType='disc' mt='sm'>
	<List.Item>**Language**: Solidity, while powerful, has a steeper learning curve compared to some other languages.</List.Item>
</List>

{' '}

<Title order={4} mt='xl'>
	Use Cases
</Title>
<List listStyleType='disc' mt='sm'>
	<List.Item>Projects requiring compatibility with existing Ethereum infrastructure.</List.Item>
	<List.Item>Developers with a background in Ethereum development.</List.Item>
	<List.Item>Applications benefiting from Ethereum’s mature tooling and ecosystem.</List.Item>
</List>

  <Title order={4} mt="xl">Example Tools</Title>
  <List listStyleType="disc" mt="sm">
    <List.Item>**[MetaMask](https://metamask.io/)**: Popular Ethereum wallet.</List.Item>
    <List.Item>**[Hardhat](https://hardhat.org/hardhat-runner/docs/getting-started)**: Development environment for Ethereum.</List.Item>
    <List.Item>**[Foundry](https://github.com/foundry-rs/foundry)**: Fast and portable toolkit for Ethereum development.</List.Item>
    <List.Item>**[Wagmi](https://wagmi.sh/)**: React hooks library for Ethereum dApps.</List.Item>
    <List.Item>**[Viem](https://viem.sh/)**: A lightweight and flexible library for Ethereum development.</List.Item>
  </List>
</Paper>

### CosmWasm

CosmWasm is a smart contract platform built for the Cosmos ecosystem, enabling contracts to be written in WebAssembly (Wasm) languages, with Rust being the most commonly used.

<Paper shadow="lg" p="lg" mt="xl" withBorder bg="transparent" radius="md">
  <Title order={4}>Benefits</Title>
  <List listStyleType="disc" mt="sm">
    <List.Item>**Language Flexibility**: Supports multiple programming languages that compile to Wasm, though Rust is preferred for its performance and safety features.</List.Item>
    <List.Item>**Modularity**: CosmWasm’s architecture encourages modular contract design, making it easier to upgrade and maintain.</List.Item>
    <List.Item>**Integration with Cosmos**: Seamlessly integrates with other Cosmos chains, leveraging the extensive Cosmos ecosystem and its IBC (Inter-Blockchain Communication) protocol.</List.Item>
  </List>

<Title order={4} mt='xl'>
	Considerations
</Title>
<List listStyleType='disc' mt='sm'>
	<List.Item>**Learning Curve**: Developers need to be familiar with Rust or other Wasm-supported languages.</List.Item>
	<List.Item>**Ecosystem**: While growing, the CosmWasm ecosystem is smaller compared to Ethereum’s.</List.Item>
</List>

<Title order={4} mt='xl'>
	Use Cases
</Title>
<List listStyleType='disc' mt='sm'>
	<List.Item>Projects requiring high performance and security.</List.Item>
	<List.Item>Applications benefiting from Cosmos features and interoperability.</List.Item>
	<List.Item>Developers with a background in Rust or other Wasm-supported languages.</List.Item>
</List>

<Title order={4} mt="xl">Example Tools</Title>
<List listStyleType="disc" mt="sm">
  <List.Item>**[CosmWasm](https://docs.cosmwasm.com/)**: Platform for building smart contracts on Cosmos.</List.Item>
  <List.Item>**[CosmosKit](https://github.com/cosmology-tech/cosmos-kit)**: Library for connecting to Cosmos wallets.</List.Item>
  <List.Item>**[@sei-js](https://github.com/sei-protocol/sei-js)**: Typescript library for interacting with Sei.</List.Item>
  <List.Item>**[CosmJS](https://cosmos.github.io/cosmjs/)**: JavaScript library for interacting with Cosmos blockchains.</List.Item>
</List>
</Paper>

<Blockquote color='blue' mt='xl' icon={<IconInfoCircle />}>
	<strong>Built in interoperability</strong>
	<Text>No matter which VM you choose, EVM and CosmWasm contracts can interact seamlessly with each other via two main mechanisms.</Text>
	<ul>
		<li>
			**EVM Precompile Contracts**: Precompiles are smart contracts pre-bundled into the chain. Sei has many precompiles to enable EVM dApps and contracts to access
			native Cosmos functions, such as staking and executing CosmWasm contracts.
		</li>
		<li>
			**Pointer Contracts**: These contracts act as intermediaries, enabling calls between EVM and CosmWasm contracts. This allows developers to leverage the
			strengths of both environments and create more versatile dApps.
		</li>
	</ul>
</Blockquote>

## Best Practices

Security is paramount in smart contract development. Here are some best practices to ensure your contracts are secure:

- **Code Audits**: Regularly audit your code to identify and fix vulnerabilities.
- **Use Established Libraries**: Leverage well-tested libraries and frameworks to reduce the risk of introducing bugs.
- **Write Quality Code**: Adhere to best practices for smart contract development, such as proper error handling, using safe math libraries, and avoiding unnecessary complexity.
- **Testing**: Thoroughly test your contracts, including unit tests, integration tests, and security tests, to ensure they function as expected under various scenarios.
- **Optimization:** Using packages like rust-optimizer for CosmWasm contracts are critical to ensure gas fees remain low while using your smart contract.
