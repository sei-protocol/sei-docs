import { Callout } from 'nextra/components';

# Introducing Token Add-ons

As you have learned form the [Token Factory tutorial](tokenfactory-tutorial.mdx), the `tokenfactory` module enables any account to create new tokens with a unique identifier based on the creator's address. 

Introducing Token Add-ons, a set of features that can be added to your token to enhance its functionality.
With the first add-on being an allow list, which restricts the transferability of the token to a specific set of addresses.

In this tutorial, we will learn how to create a token with an allow list.

## Requirements

To create a token on the devnet, ensure you have the following setup:

- The `seid` CLI
- A wallet with SEI tokens on devnet

<Callout type='info'>You can obtain devnet tokens from one of the faucets listed [here](../dev-ecosystem-providers/faucets).</Callout>

## Creating a Denom with Allow List

1. First, create a JSON file that contains the list of addresses you want to include in your allow list.
The format of the allow list is as follows:

```json
{
    "addresses": [
        "address1",
        "address2",
        "address3"
    ]
}
```

Where each address is a valid Sei bech32 address or EVM 0x prefixed address. Please note, that 0x addresses will be converted to bech32 addresses when the allow list is persisted.

```bash copy
seid tx tokenfactory create-denom $SUBDENOM \
  --allow-list=$ALLOW_LIST_FILE_PATH \
  --from=$CREATOR_ACCOUNT \
  --chain-id=$CHAIN_ID \
  --fees=$FEE_AMOUNT \
  --gas=$GAS_LIMIT \
  -y
```

This command creates a new coin with specific allow list.

### Understanding Command Line Arguments

When executing commands in this tutorial, you'll encounter several arguments. Here's a brief overview of what each means:

- `--allow-list $ALLOW_LIST_FILE_PATH`: This specifies the path to the allow list file that we have created in the previous step. E.g. `allowlist.json`.
- `--chain-id arctic-1`: This specifies the network where the command will be executed. In this case, `arctic-1` is the identifier for the Sei devnet.
- `--node https://rpc.arctic-1.seinetwork.io/ `: This points to the RPC URL of the node you are interacting with.
- `--broadcast-mode block`: This determines how your transaction is broadcasted to the network. The `block` mode means the transaction will wait to be included in a block before returning a response. This is a safer option as it confirms your transaction is processed.
- `--fees 20000usei`: This is used to specify the transaction fee.

Understanding these arguments will help you execute the commands more confidently and customize them as needed for different scenarios.

<Callout type='info'>For detailed descriptions of these arguments, use `seid help` in the CLI.</Callout>

## Updating Token Allow List

To update the allow list of a token, you can use the following command:

```bash copy
seid tx tokenfactory update-denom $DENOM --from=$ACCOUNT --allow-list=$ALLOW_LIST_FILE_PATH --chain-id=arctic-1 --node=https://rpc.arctic-1.seinetwork.io/ --broadcast-mode=block --fees=20000usei
```

This command updates the allow list of a token.

To allow all addresses agian to transfer the token, you can simply submit an empty allow list.

## Querying Token Allow List

You may query the allow list of a token using the node REST endpoint. E.g.:
```bash copy
curl -X 'GET' \
  'https://rest-arctic-1.sei-apis.com/sei-protocol/seichain/tokenfactory/denoms/allow_list?denom=factory/{ACCOUNT}/{DENOM}' \
  -H 'accept: application/json'
```


## EVM Support

To enable seamless use of this token in EVM environments, we can create a pointer contract. The process is described in [Token Factory tutorial](tokenfactory-tutorial.mdx#create-pointer-contract).

For more advanced features and detailed insights, please refer to the [Token Factory module documentation](https://github.com/sei-protocol/sei-chain/tree/main/x/tokenfactory).
